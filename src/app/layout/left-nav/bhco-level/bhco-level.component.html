<div class="header-container">
  <mat-toolbar color="primary">
    <button mat-icon-button color="white" (click)="snav.toggle()">
      <mat-icon>menu</mat-icon>
    </button>
    <h1>imHealthy</h1>
    <span class="blank-space"> </span>
    <app-header></app-header>
  </mat-toolbar>


  <mat-sidenav-container class="sideNav-container">
    <mat-sidenav #snav class="left-nav" mode="side" opened>
      <app-user-info></app-user-info>
      <mat-nav-list class="nav-list">
        <mat-accordion>

          <!--active link if current member is in the local storage -->
          <div *ngIf="(stateService.existMember$ | async); else blockLink">
            <mat-expansion-panel class="panel-format">
              <mat-expansion-panel-header>
                <mat-panel-title> <a routerLink="demographic" routerLinkActive="active">
                  <mat-icon class="main-icon">assignment_ind</mat-icon>
                  <span class="main-menu"> <h4>&nbsp; Demographic </h4> </span> </a>
                </mat-panel-title>
              </mat-expansion-panel-header>
              <a routerLink="demographic" routerLinkActive="active">
                <button mat-menu-item color="white">
                  <mat-icon>assignment_ind</mat-icon>
                  <span>Demographic</span>
                </button>
              </a>
            </mat-expansion-panel>

            <mat-expansion-panel class="panel-format">
              <mat-expansion-panel-header>
                <mat-panel-title> <a routerLink="domain-list" routerLinkActive="active">
                  <mat-icon class="main-icon">assignment</mat-icon> &nbsp;
                  <span class="main-menu"> <h4>&nbsp; Questionnaire </h4> </span></a>
                </mat-panel-title>
              </mat-expansion-panel-header>
              <div *ngIf="domains">
                <a routerLink="questionnaire/{{dom.id}}" routerLinkActive="active" *ngFor="let dom of domains" (click)="selectDom(dom)">
                  <button mat-menu-item color="white">
                    <mat-icon>assignment</mat-icon>
                    <span>{{dom.domain}}</span>
                  </button>
                </a>
              </div>
            </mat-expansion-panel>

            <mat-expansion-panel class="panel-format">
              <mat-expansion-panel-header>
                <mat-panel-title><a routerLink="socialNetwork" routerLinkActive="active">
                  <mat-icon class="main-icon">thumbs_up_down</mat-icon> &nbsp;
                  <span class="main-menu"> <h4> &nbsp; Social Network</h4> </span> </a>
                </mat-panel-title>
              </mat-expansion-panel-header>
              <a routerLink="socialNetwork" routerLinkActive="active">
                <button mat-menu-item color="white">
                  <mat-icon>thumbs_up_down</mat-icon>
                  <span>Social Network</span>
                </button>
              </a>
            </mat-expansion-panel>

          </div>


          <!-- disabled the link if the member has not been chosen-->
          <ng-template #blockLink>
            <mat-expansion-panel class="panel-format" disabled>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <mat-icon class="main-icon">assignment_ind</mat-icon>
                  <span class="main-menu"> <h4>&nbsp; Demographic </h4> </span>
                </mat-panel-title>
              </mat-expansion-panel-header>
            </mat-expansion-panel>

            <mat-expansion-panel class="panel-format" disabled>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <mat-icon class="main-icon">assignment</mat-icon> &nbsp;
                  <span class="main-menu"> <h4>&nbsp; Questionnaire </h4> </span>
                </mat-panel-title>
              </mat-expansion-panel-header>
            </mat-expansion-panel>

            <mat-expansion-panel class="panel-format" disabled>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <mat-icon class="main-icon">thumbs_up_down</mat-icon> &nbsp;
                  <span class="main-menu"> <h4> &nbsp; Social Network</h4> </span>
                </mat-panel-title>
              </mat-expansion-panel-header>
            </mat-expansion-panel>
          </ng-template>


          <mat-expansion-panel class="panel-format">
            <mat-expansion-panel-header>
              <mat-panel-title>  <a routerLink="assign" routerLinkActive="active">
                <mat-icon class="main-icon">trending_up</mat-icon>
                <span class="main-menu"> <h4>&nbsp; Assignment </h4> </span>  </a>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <a routerLink="assign" routerLinkActive="active">
            <button mat-menu-item color="white">
              <mat-icon>assessment</mat-icon>
              <span>Assignment</span>
            </button>
            </a>
          </mat-expansion-panel>

          <mat-expansion-panel class="panel-format">
            <mat-expansion-panel-header>
              <mat-panel-title>  <a routerLink="assign" routerLinkActive="active">
                <mat-icon class="main-icon">assessment</mat-icon>
                <span class="main-menu"> <h4>&nbsp; Assessment </h4> </span>  </a>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <a routerLink="assign" routerLinkActive="active">
              <button mat-menu-item color="white">
                <mat-icon>assessment</mat-icon>
                <span>Demographic</span>
              </button>
            </a>
            <a routerLink="question-ans" routerLinkActive="active">
              <button mat-menu-item color="white">
                <mat-icon>assessment</mat-icon>
                <span>Questionnaire</span>
              </button>
            </a>
            <a routerLink="question-ans" routerLinkActive="active">
              <button mat-menu-item color="white">
                <mat-icon>assessment</mat-icon>
                <span>Social Network</span>
              </button>
            </a>
            <a routerLink="individual-analysis" routerLinkActive="active">
              <button mat-menu-item color="white">
                <mat-icon>assessment</mat-icon>
                <span>Individual Chart</span>
              </button>
            </a>
          </mat-expansion-panel>
        </mat-accordion>
      </mat-nav-list>
      <app-footer></app-footer>
    </mat-sidenav>

    <mat-sidenav-content>
      <!--<app-demographic [questions]="questions"></app-demographic>-->
      <router-outlet></router-outlet>
    </mat-sidenav-content>

  </mat-sidenav-container>



</div>
